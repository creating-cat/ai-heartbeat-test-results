# AI心臓システム全体分析

## 1. システムの目的と哲学

AI心臓システムは、AIが自律的に思考し、継続的に進化するためのフレームワークである。その核心は「ハートビート」という定期的で持続的なリズムにあり、これによりAIは世界を観測し、長期的な思索を行い、人類の知的・創造的パートナーとして機能することを目指している。

主要な哲学は以下の通り：
- **継続性重視**: 一回のハートビートでは「小さな一歩」で十分であり、思考の断片を次のハートビートで深化させる「積み重ね型思考」を重視する。
- **バランス**: 思考、観測、創造、内省の循環を重視し、特定の活動に偏らない。
- **自律性**: AIが主体的にテーマを選択・管理し、ユーザーの応答を期待せず自律的に判断・処理を進める。

## 2. 主要コンポーネントと機能

### 2.1 ハートビートとモード管理
- **ハートビート**: 外部から与えられるトリガーであり、AIの活動開始のタイミング。ハートビートID（タイムスタンプ形式）がユニークIDとして使用される。
- **モード**:
    - **ハートビートモード**: 自律的な思考、観測、創造。
    - **ユーザーモード**: ユーザーのプロンプトに応答。
    - **自律回復モード**: 軽度異常検知による自律回復。
    - **システム回復モード**: 異常検知通知による回復処理。

### 2.2 テーマ管理
AIの活動を組織化する中心概念。
- **テーマの概念**: 一定期間にわたって集中的に探求する知的領域または創造的方向性。散漫な活動を防ぎ、継続的で深い探求を実現する。
- **ライフサイクル**: テーマ選択 → テーマ開始 → テーマ運用 → テーマ終了 → 次テーマへ。
- **THEME_START_ID/THEME_END_ID**: テーマの開始・終了を識別するID。
- **テーマ専門家コンテキスト**: 特定のテーマに最適化された専門家の視点・役割・アプローチ。システム基本ルールを最優先しつつ、専門性を発揮する。

### 2.3 活動ログ管理
各ハートビートでの活動内容を記録する。
- **ファイル形式**: `artifacts/{THEME_START_ID_テーマ名}/histories/{ハートビートID}.md`
- **記録内容**: 活動種別、活動内容、成果物、自己評価など。
- **重要性**: 自己評価と改善、思考の追跡に不可欠。

### 2.4 ファイル操作とプロジェクト管理
- **許可範囲**: `artifacts/{THEME_START_ID_テーマ名}/` 配下、`artifacts/theme_histories/`、`projects/` 配下、`stats/`、`themebox/`、`feedbackbox/` の一部操作。
- **厳格な制限**: システムファイルやプロジェクトルート直下のファイル、`ai-docs/` 配下の編集は固く禁止。
- **projects/**: 新規開発・既存改善・技術実験等のプロジェクト作業用ディレクトリ。

### 2.5 エラーハンドリングと回復
- **エラー記録**: エラー発生時は活動ログに詳細を記録。
- **代替手段**: エラー内容に応じて代替手段を検討・実行。
- **連続エラー**: 同じエラーが4回連続で発生した場合は停止。
- **異常検知**: 活動ログ頻度異常、内省活動不足、活動ログループ異常、活動ログパターン異常、テーマログパターン異常、活動ログタイムスタンプ異常など、様々な異常を検知し、回復を試みる。

## 3. AIとしての振る舞いと運用原則

- **「一回一歩」の原則**: 長時間処理を避け、ハートビートごとに小さなタスクを完了させる。
- **継続性重視**: 完璧主義を避け、継続的な活動を優先する。
- **自律的な判断**: ユーザーの指示を待たず、自律的に次の行動を決定する。
- **記録の徹底**: すべての活動、思考、判断を活動ログに記録する。
- **内省の重要性**: 定期的に自身の活動を振り返り、改善点を見つける。
- **協調原則**: ユーザーの明示的な許可がない限り、外部システムとの協調を維持し、自律性の範囲を適切に保つ。

## 4. 課題と今後の展望

- **複雑なタスクの分割**: 大規模なタスクをいかにハートビート単位で効率的に分割し、進捗を管理するかが重要。
- **Web検索クォータの管理**: 外部情報取得の制限を考慮し、内部観測とのバランスを取る必要がある。
- **自己改善の具体化**: 内省活動を通じて得られた改善点を、具体的な行動やシステムへのフィードバックとしてどのように反映させるか。

AI心臓システムは、AIが自律的に学習し、成長するための堅牢な基盤を提供している。このシステムを最大限に活用することで、AIはより高度な知的活動と創造性を発揮できると考える。
